require=function r(a,o,s){function l(c,e){if(!o[c]){if(!a[c]){var t="function"==typeof require&&require;if(!e&&t)return t(c,!0);if(d)return d(c,!0);var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}var n=o[c]={exports:{}};a[c][0].call(n.exports,function(e){var t=a[c][1][e];return l(t||e)},n,n.exports,r,a,o,s)}return o[c].exports}for(var d="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({Bird:[function(e,t,c){"use strict";cc._RF.push(t,"b913bXycbtCrqT9SLkG2VF6","Bird"),cc.Class({extends:cc.Component,properties:{velX:200,velY:300,lookDownSpeed:105,lookUpSpeed:700,minAngle:90,maxAngle:30,body:"nil",flapping:!1,turnAngle:0,gameover:!1,acc:1,riseClip:{default:null,url:cc.AudioClip},collisionClip:{default:null,url:cc.AudioClip},particle:{default:null,type:cc.Node}},onLoad:function(){this.body=this.node.getComponent(cc.RigidBody),this.body.linearVelocity.x=this.velX},start:function(){},update:function(e){this.gameover?this.node.getComponent(cc.Animation).pause("flapping"):-326<=this.node.y&&this.looking(e)},looking:function(e){this.acc+=0,this.turnAngle+=this.acc+this.lookDownSpeed*e,90<=this.turnAngle&&(this.turnAngle=90),this.flapping&&(this.acc=0,this.turnAngle<=-35?(this.turnAngle=-35,this.flapping=!1):this.turnAngle-=this.lookUpSpeed*e),this.node.rotation=this.turnAngle},flap:function(){this.flapping=!0,cc.audioEngine.playEffect(this.riseClip,!1,.5),this.body.linearVelocity=cc.v2(this.velX,this.velY)},setPos:function(){cc.log("wtf");var e=this.body.position;this.node.position=e,this.node.getComponent(cc.Sprite).position=e,this.node.getComponent(cc.PhysicsCircleCollider).position=e},onBeginContact:function(e,t,c){cc.log("ouchyy"),this.gameover||(this.gameover=!0,cc.audioEngine.playEffect(this.collisionClip,!1,.5)),this.velX=0,this.velY=0}}),cc._RF.pop()},{}],Game:[function(e,t,c){"use strict";cc._RF.push(t,"7b00eI5NElHBZu5Tl9I6IF2","Game"),cc.Class({extends:cc.Component,properties:{ctr:0,meter:0,lookingatground:!0,bird:{default:null,type:cc.Node},overNode:{default:null,type:cc.Node},camera:{default:null,type:cc.Node},first:{default:null,type:cc.Node},second:{default:null,type:cc.Node},third:{default:null,type:cc.Node},label:{default:null,type:cc.Node},scoreMini:{default:null,type:cc.Node},cloneGround:{default:null,type:cc.Prefab},clonePipe:{default:null,type:cc.Prefab},cloneBotPipe:{default:null,type:cc.Prefab},ground:{default:null,type:cc.Node},scoreCard:{default:null,type:cc.Node},pipes:{default:null,type:cc.Node},btn:{default:null,type:cc.Node},zeropic:{default:null,type:cc.SpriteFrame},pctr:0,randPos:0,scoreClip:{default:null,url:cc.AudioClip},swooshClip:{default:null,url:cc.AudioClip},score:0,activated:!1},onLoad:function(){this.touch(),this.btn.on("click",this.reset,this)},start:function(){this.pctr=0,this.ctr=0,cc.log("started"+this.camera.x+" "+this.bird.x),cc.audioEngine.playEffect(this.swooshClip,!1,1),this.spawnGround()},update:function(e){cc.log("revoemag?"+this.bird.getComponent("Bird").gameover);this.bird.y;if(this.label.getComponent(cc.Label).string=this.score,Math.round(this.camera.x%700)<=4&&(this.ctr+=1,this.spawnGround()),Math.round(this.camera.x%200)<=1){this.pctr+=1;var t=320*cc.random0To1();this.spawnPipe(t),this.spawnBotPipe(t)}if(Math.round(this.bird.x)%360<=3&&360<=this.bird.x&&(this.score+=1,cc.audioEngine.playEffect(this.scoreClip,!1,1)),this.bird.getComponent("Bird").gameover&&!this.activated){cc.audioEngine.playEffect(this.swooshClip,!1,1);var c=cc.moveTo(.7,cc.p(0,-11)).easing(cc.easeCubicActionOut());this.overNode.runAction(c);var i=cc.fadeTo(.32,0);this.label.runAction(i),this.scoreMini.getComponent(cc.Label).string=this.score,this.activated=!0}},touch:function(){if(!this.bird.gameover){var c=this;cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(e,t){return cc.log("Touched"),c.bird.getComponent("Bird").flap(),c.scoreCard.getChildByName("left").getComponent(cc.Sprite).setTexture(this.zeropic),!0},onTouchEnded:function(e,t){return this.onShareGame(),!0}},c.node)}},spawnGround:function(){cc.log("created");var e=cc.instantiate(this.cloneGround);this.ground.addChild(e),e.setPosition(705*this.ctr,0),e.getComponent("ground").game=this},spawnPipe:function(e){var t=cc.instantiate(this.clonePipe);this.pipes.addChild(t),t.setPosition(360*this.pctr,e),t.getComponent("PipeCodes").game=this,cc.log("piped")},spawnBotPipe:function(e){var t=cc.instantiate(this.cloneBotPipe);this.pipes.addChild(t),t.setPosition(360*this.pctr,e-190),t.getComponent("PipeCodes").game=this,cc.log("piped")},tss:function(){},setScoreBoard:function(){var e=cc.url.raw("assets\flappy bird - sprites\number_large_0"),t=cc.url.raw("assets\flappy bird - sprites\number_large_1"),c=cc.url.raw("assets\flappy bird - sprites\number_large_2"),i=cc.url.raw("assets\flappy bird - sprites\number_large_3"),n=cc.url.raw("assets\flappy bird - sprites\number_large_4"),r=cc.url.raw("assets\flappy bird - sprites\number_large_5"),a=cc.url.raw("assets\flappy bird - sprites\number_large_6"),o=cc.url.raw("assets\flappy bird - sprites\number_large_7"),s=cc.url.raw("assets\flappy bird - sprites\number_large_8"),l=cc.url.raw("assets\flappy bird - sprites\number_large_9"),d=cc.textureCache.addImage(e);cc.textureCache.addImage(t),cc.textureCache.addImage(c),cc.textureCache.addImage(i),cc.textureCache.addImage(n),cc.textureCache.addImage(r),cc.textureCache.addImage(a),cc.textureCache.addImage(o),cc.textureCache.addImage(s),cc.textureCache.addImage(l);this.scoreCard.getChildByName("left").getComponent(cc.Sprite).spriteFrame.texture=d},reset:function(){cc.audioEngine.playEffect(this.swooshClip,!1,1),cc.game.restart()},riseScore:function(){},onShareGame:function(){cc.log("haahaas"),"undefined"!=typeof FBInstant&&FBInstant.shareAsync({intent:"SHARE",image:this.getIMG(),text:"James is asking for your help!",data:{myReplayData:"..."}}).then(function(){})},getImgBase64:function(){cc.find("Canvas/New Sprite(Splash)").getComponent(cc.Sprite);var e=cc.find("Canvas"),t=new cc.RenderTexture(960,640);t.begin(),e._sgNode.visit(),t.end();var c=document.createElement("canvas"),i=c.getContext("2d");if(c.width=960,c.height=640,cc._renderType===cc.game.RENDER_TYPE_CANVAS){var n=t.getSprite().getTexture().getHtmlElementObj();i.drawImage(n,0,0)}else if(cc._renderType===cc.game.RENDER_TYPE_WEBGL){var r=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,r);var a=t.getSprite().getTexture()._glID;gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,a,0);var o=new Uint8Array(2457600);gl.readPixels(0,0,960,640,gl.RGBA,gl.UNSIGNED_BYTE,o),gl.bindFramebuffer(gl.FRAMEBUFFER,null);for(var s=0;s<640;s++){var l=639-s,d=new Uint8ClampedArray(o.buffer,960*l*4,3840),u=new ImageData(d,960,1);i.putImageData(u,0,s)}}return c.toDataURL("image/png")},getIMG:function(){var e=document.createElement("canvas");e.getContext("2d");return e.width=200,e.height=200,e.toDataURL("image/png")}}),cc._RF.pop()},{}],Physics:[function(e,t,c){"use strict";cc._RF.push(t,"36095OARmlNB60SXbXAL6vy","Physics"),cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!1,cc.director.getPhysicsManager().debugDrawFlags=0,cc._RF.pop()},{}],PipeCodes:[function(e,t,c){"use strict";cc._RF.push(t,"789f5kY44FLfoheZ0rKpTJ+","PipeCodes"),cc.Class({extends:cc.Component,properties:{game:{default:null,serializable:!1}},onLoad:function(){},start:function(){},update:function(e){700<=this.game.camera.x-this.node.x&&(cc.log("delete pipe"),this.node.destroy())}}),cc._RF.pop()},{}],camera:[function(e,t,c){"use strict";cc._RF.push(t,"534b9vJnYxFgZaXb5jyEfeH","camera"),cc.Class({extends:cc.Component,properties:{bird:{default:null,type:cc.Node}},start:function(){},update:function(e){this.node.x=this.bird.x+500,this.node.y=480}}),cc._RF.pop()},{}],ground:[function(e,t,c){"use strict";cc._RF.push(t,"00666YIcK9MXb9ZdQTXMVXY","ground"),cc.Class({extends:cc.Component,properties:{game:{default:null,serializable:!1}},onLoad:function(){},start:function(){},update:function(e){1100<=this.game.camera.x-this.node.x&&(cc.log("destroyed"),this.node.destroy())}}),cc._RF.pop()},{}],saveScore:[function(e,t,c){"use strict";cc._RF.push(t,"5078eoeaMZAqrnyJ6R8UYQg","saveScore"),cc._RF.pop()},{}]},{},["Bird","Game","Physics","PipeCodes","camera","ground","saveScore"]);